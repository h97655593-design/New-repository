<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ناطر | Nater</title>

<style>
body{
margin:0;
font-family:'Segoe UI',sans-serif;
direction:rtl;
background:#eef2f7;
}

.header{
background:linear-gradient(135deg,#4e73df,#1cc88a);
color:white;
padding:25px;
text-align:center;
}

.section{
padding:20px;
max-width:1100px;
margin:auto;
}

.card{
background:white;
padding:20px;
border-radius:15px;
box-shadow:0 8px 20px rgba(0,0,0,0.08);
margin-bottom:20px;
}

input,select{
width:100%;
padding:10px;
margin:6px 0;
border-radius:10px;
border:1px solid #ddd;
}

button{
background:#4e73df;
color:white;
border:none;
padding:10px;
border-radius:10px;
cursor:pointer;
width:100%;
margin-top:8px;
}

.grid{
display:grid;
grid-template-columns:repeat(auto-fill,minmax(80px,1fr));
gap:12px;
margin-top:20px;
}

.number-box{
background:#e74a3b;
color:white;
height:80px;
border-radius:15px;
display:flex;
flex-direction:column;
align-items:center;
justify-content:center;
cursor:pointer;
font-weight:bold;
transition:0.3s;
position:relative;
}

.number-box.ready{
background:#1cc88a;
}

.number-box:hover{
transform:scale(1.05);
}

.ready-label{
font-size:12px;
margin-top:4px;
}

.badge{
background:#1cc88a;
color:white;
padding:5px 12px;
border-radius:20px;
display:inline-block;
margin-bottom:10px;
}

</style>
</head>

<body>

<div class="header">
<h1>ناطر | Nater</h1>
</div>

<div class="section">

<div class="card">
<h3>إضافة محل</h3>
<input id="name" placeholder="اسم المحل">
<select id="type">
<option value="مطعم">مطعم</option>
<option value="عيادة">عيادة</option>
<option value="صالون">صالون</option>
</select>
<input id="start" type="number" placeholder="بداية الأرقام">
<input id="end" type="number" placeholder="نهاية الأرقام">
<button onclick="register()">إضافة</button>
</div>

<div id="stores"></div>

</div>

<script>

let members = JSON.parse(localStorage.getItem("naterMembers")) || [];

function saveData(){
localStorage.setItem("naterMembers",JSON.stringify(members));
render();
}

function register(){
let m={
name:name.value,
type:type.value,
start:+start.value,
end:+end.value,
status:{}
};
members.push(m);
saveData();
}

function render(){
let container=document.getElementById("stores");
container.innerHTML="";

members.forEach((m,i)=>{
let readyCount = Object.values(m.status).filter(v=>v).length;

let html=`
<div class="card">
<h2>${m.name}</h2>
<span class="badge">الأرقام الجاهزة: ${readyCount}</span>
<div class="grid">
`;

for(let n=m.start;n<=m.end;n++){
if(!m.status[n]) m.status[n]=false;

html+=`
<div class="number-box ${m.status[n]?'ready':''}"
onclick="toggle(${i},${n})">
<div>${n}</div>
${m.status[n]?'<div class="ready-label">جاهز</div>':''}
</div>
`;
}

html+=`
</div>
</div>
`;

container.innerHTML+=html;
});
}

function toggle(i,n){
members[i].status[n]=!members[i].status[n];
saveData();
}

render();

</script>

</body>
</html>
