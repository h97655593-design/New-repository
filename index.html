<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù†Ø§Ø·Ø± | Nater</title>

<style>
body{
font-family:'Segoe UI',sans-serif;
margin:0;
background:linear-gradient(135deg,#667eea,#764ba2);
direction:rtl;
color:#333;
}

.container{
max-width:800px;
margin:auto;
padding:20px;
}

h1{
text-align:center;
color:white;
margin-bottom:20px;
}

.card{
background:white;
padding:20px;
border-radius:15px;
margin-bottom:20px;
box-shadow:0 10px 20px rgba(0,0,0,0.15);
}

input,select{
width:100%;
padding:12px;
margin:6px 0;
border-radius:8px;
border:1px solid #ddd;
}

button{
width:100%;
padding:12px;
margin-top:8px;
border:none;
border-radius:8px;
background:#667eea;
color:white;
font-weight:bold;
cursor:pointer;
transition:0.3s;
}

button:hover{
transform:scale(1.02);
background:#5a67d8;
}

.grid{
display:grid;
grid-template-columns:repeat(auto-fill,minmax(55px,1fr));
gap:10px;
margin-top:15px;
}

.box{
width:55px;
height:55px;
display:flex;
align-items:center;
justify-content:center;
border-radius:50%;
font-weight:bold;
color:white;
cursor:pointer;
transition:0.2s;
}

.red{background:#e53e3e;}
.green{background:#38a169;}

.box:hover{
transform:scale(1.1);
}

.result{
font-weight:bold;
margin-top:10px;
font-size:16px;
}
</style>
</head>

<body>

<div class="container">

<h1>Ù†Ø§Ø·Ø± | Nater</h1>

<div class="card">
<h3>ğŸ‘¤ ØªØ³Ø¬ÙŠÙ„ Ø¹Ø¶Ùˆ</h3>
<input id="name" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø­Ù„">
<select id="type">
<option value="restaurant">Ù…Ø·Ø¹Ù…</option>
<option value="salon">ØµØ§Ù„ÙˆÙ†</option>
<option value="clinic">Ø¹ÙŠØ§Ø¯Ø©</option>
<option value="cafe">ÙƒØ§ÙÙŠÙ‡</option>
</select>
<input id="start" type="number" placeholder="Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø£Ø±Ù‚Ø§Ù…">
<input id="end" type="number" placeholder="Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø£Ø±Ù‚Ø§Ù…">
<input id="chairs" type="number" placeholder="Ø¹Ø¯Ø¯ Ø§Ù„ÙƒØ±Ø§Ø³ÙŠ (Ù„Ù„ÙƒØ§ÙÙŠÙ‡)">
<button onclick="register()">ØªØ³Ø¬ÙŠÙ„</button>
</div>

<div class="card">
<h3>ğŸ‘‘ Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø§Ø³ØªØ±</h3>
<input id="masterPass" type="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
<button onclick="loginMaster()">Ø¯Ø®ÙˆÙ„</button>
<div id="admin"></div>
</div>

<div class="card">
<h3>ğŸ§ Ø§Ù„Ø²Ø§Ø¦Ø±</h3>
<input id="checkPlace" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø­Ù„">
<input id="checkNumber" placeholder="Ø±Ù‚Ù…Ùƒ">
<button onclick="checkVisitor()">ØªØ­Ù‚Ù‚</button>
<div class="result" id="visitorResult"></div>
</div>

</div>

<script>
let members = JSON.parse(localStorage.getItem("naterMembers")) || [];
let masterPassword = "1234";

function saveData(){
localStorage.setItem("naterMembers",JSON.stringify(members));
}

function register(){
if(!name.value){
alert("Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„Ù…Ø­Ù„");
return;
}

let m={
name:name.value,
type:type.value,
start:+start.value,
end:+end.value,
chairs:+chairs.value||0,
status:{}
};

members.push(m);
saveData();
alert("ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¹Ø¶Ùˆ");
}

function loginMaster(){
if(masterPass.value!==masterPassword){
alert("ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø®Ø·Ø£");
return;
}

admin.innerHTML="";
members.forEach((m,i)=>{
admin.innerHTML+=`
<div style="margin:10px 0;padding:10px;border:1px solid #eee;border-radius:8px">
<strong>${m.name}</strong> (${m.type})
<button onclick="openMember(${i})">ÙØªØ­</button>
</div>`;
});
}

function openMember(i){
let m=members[i];
admin.innerHTML=`<h3>${m.name}</h3>`;

if(m.type==="cafe"){
admin.innerHTML+=`
<h2>ğŸª‘ Ø§Ù„ÙƒØ±Ø§Ø³ÙŠ Ø§Ù„Ù…ØªØ§Ø­Ø©: ${m.chairs}</h2>
<button onclick="updateChairs(${i},1)">â•</button>
<button onclick="updateChairs(${i},-1)">â–</button>
`;
return;
}

admin.innerHTML+=`<div class="grid" id="grid"></div>`;
let grid=document.getElementById("grid");

for(let n=m.start;n<=m.end;n++){
if(!m.status[n]) m.status[n]=false;

let div=document.createElement("div");
div.className="box "+(m.status[n]?"green":"red");
div.innerText=n;

div.onclick=()=>{
m.status[n]=!m.status[n];
saveData();
openMember(i);
};

grid.appendChild(div);
}
}

function updateChairs(i,val){
members[i].chairs+=val;
if(members[i].chairs<0) members[i].chairs=0;
saveData();
openMember(i);
}

function checkVisitor(){
let place=members.find(m=>m.name===checkPlace.value);

if(!place){
visitorResult.innerHTML="âŒ Ø§Ù„Ù…Ø­Ù„ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯";
return;
}

if(place.type==="cafe"){
visitorResult.innerHTML="ğŸª‘ Ø§Ù„ÙƒØ±Ø§Ø³ÙŠ Ø§Ù„Ù…ØªØ§Ø­Ø©: "+place.chairs;
return;
}

let num=checkNumber.value;

if(place.status[num]){
visitorResult.innerHTML="âœ… Ø±Ù‚Ù…Ùƒ Ø¬Ø§Ù‡Ø²";
}else{
visitorResult.innerHTML="â³ Ù„Ù… ÙŠØ¬Ù‡Ø² Ø¨Ø¹Ø¯";
}
}
</script>

</body>
</html>
